# 音乐教学解决方案demo方案概述
#### 1.1 demo方案概述
网易云信技术研发团队为多个在线音乐教学客户定制了音乐教学场景下的特殊解决方案（https://netease.im/edu-music），为了更好地展现音乐场景下的音视频能力，提供了可让开发者快速借鉴和集成的音乐教学方案demo。

本方案集成了网易云信互动直播和互动白板等多种能力，结合网易云信最新推出的高清音乐模式，最大限度地满足音乐教学场景中对音质的追求，同时实现了师生实时互动、曲谱标注等功能，提升课程品质。

#### 1.2 demo角色介绍
本方案包含三种不同的角色：**老师**、**学生**和**平台**。

平台方通过服务器给合适的老师和学生创建对应的课程；学生可主动预约课程，在课程过程中可看到老师同步在乐谱白板上的内容，并与老师进行语音或视频交流；
老师可进入平台创建的课程房间，在上课过程中可在白板上翻页和标注，并选择单向观看学生上课视频或与学生进行双向的语音/视频交流。
 
### 2. demo实现逻辑
本方案基于实际的音乐教学业务实现逻辑开发完成，为了方便开发者在下载demo后可以快速创建课程并体验不同角色的使用场景，demo仅允许学生端进行注册，老师端账号会在课程建立后下发，并用另一台设备登录即可。

Demo实现逻辑：
![](http://yx-web.nos.netease.com/official/default/时序图@2x.png)
业务层可以将老师端和学生端拆分成两个不同的客户端，或让用户在注册登录后选择下不同的角色身份。
 
###3． demo重点功能介绍
#### 3.1 创建&登录房间
业务房间由服务端创建，在老师端点击“下课”或房间时长超过24小时候回收。
音视频房间由老师端创建，在老师点击“进入教室”后建立，在老师点击“下课”后回收。音视频房间建立前，学生端无法进入教室。
 
#### 3.2 语音/视频通话
在线音乐教学demo中，可切换三种不同的语音/视频方式。

- 方式一：双向语音，老师端和学生端仅通过语音通话方都可以看到白板界面
- 方式二：单向视频，老师端可以看到学生端视频，学生端仅可以进行语音通话
- 方式三：双向视频，老师端和学生端可进行双向视频通话，隐藏白板界面
 
#### 3.3 白板互动
音乐教学场景下，老师可通过对白板上的乐谱进行标注，实现与学生间更好地教学互动和课程复盘。
乐谱可通过白板背景的方式实现，实际业务场景中，可支持本地上传的图片作为白板背景。
 
#### 3.4 高清音乐模式
为了更好地满足音乐教学场景下对音质的要求，推荐使用高清音乐模式，高清音乐模式目前已适配iOS、Android主流机型。
 
高清音乐模式提供端对端的音质优化方案，采用全频道音频前处理模块，场景定制的码率调控、冗余包机制等策略，更好地保留高音品质。
 
在该模式下，需要开发者进行相关配置：


- 场景模式设置 ChannelProfile#CHANNEL_PROFILE_DEFAULT
- 打开高清语音开关 NRtcParameters#KEY_AUDIO_HIGH_QUALITY
- 打开降噪语音处理 NRtcParameters#KEY_AUDIO_EFFECT_NOISE_SUPPRESSOR
 
### 4．各端说明文档
[iOS说明文档](./Music-Client-iOS/README.md)

[Android说明文档](./Music-Client-Android/README.md)

[Demo Server文档](./Music-Server/README.md)
 
